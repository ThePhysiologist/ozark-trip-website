<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Itinerary - Ozark Folk Center Trip</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Source+Sans+3:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/main.css">
</head>
<body>
  <header class="site-header">
    <div class="header-main">
      <div class="site-brand">
        <div class="site-logo">üèîÔ∏è</div>
        <div>
          <h1 class="site-title"><a href="index.html">Ozark Adventure</a></h1>
          <p class="site-subtitle">Luke & Dad's Trip Planning</p>
        </div>
      </div>
      <nav class="main-nav">
        <a href="index.html">Overview</a>
        <a href="explore.html">Explore</a>
        <a href="itinerary.html" class="active">Itinerary</a>
        <a href="flights.html">Flights</a>
        <a href="logistics.html">Logistics</a>
      </nav>
    </div>
  </header>

  <div class="breadcrumb">
    <div class="breadcrumb-inner">
      <a href="index.html">Home</a> <span>‚Ä∫</span> Plan Your Itinerary
    </div>
  </div>

  <main class="main-content wide">
    <div class="section-header">
      <h2>Build Your Itinerary</h2>
      <p>Select activities for each day. Your choices are saved automatically.</p>
    </div>

    <div class="itinerary-container">
      <div class="itinerary-main">
        <!-- Day Tabs -->
        <div class="day-tabs">
          <button class="day-tab active" data-day="1">Wed, Apr 16</button>
          <button class="day-tab" data-day="2">Thu, Apr 17</button>
          <button class="day-tab" data-day="3">Fri, Apr 18</button>
          <button class="day-tab" data-day="4">Sat, Apr 19</button>
        </div>

        <!-- Day 1: Wednesday - Travel Day -->
        <div class="day-content" data-day="1">
          <div class="day-header">
            <h3>Wednesday, April 16 ‚Äî Travel Day</h3>
            <p>Luke flies after work, arrives at airport city late evening. Dad flexible (or already with Clifford if STL).</p>
          </div>

          <div class="time-slot">
            <div class="time-label">Evening</div>
            <div class="time-content">
              <h4>Luke's Flight</h4>
              <p>Depart Richmond after 6pm, arrive at destination airport late evening.</p>
            </div>
          </div>

          <div class="time-slot">
            <div class="time-label">Night</div>
            <div class="time-content">
              <h4>Overnight Near Airport</h4>
              <p>Arriving late, so stay near the airport tonight and drive to Mountain View fresh in the morning.</p>
              
              <label class="activity-option" data-activity="day1-hotel-airport">
                <input type="checkbox" id="day1-hotel-airport"> 
                <span><strong>Hotel near airport</strong> ‚Äî Get some rest before the drive</span>
              </label>
              
              <label class="activity-option" data-activity="day1-drive-partial">
                <input type="checkbox" id="day1-drive-partial"> 
                <span><strong>Drive partway</strong> ‚Äî If arriving early enough, drive an hour or two toward MV</span>
              </label>
            </div>
          </div>

          <div class="time-slot">
            <div class="time-label">Dad</div>
            <div class="time-content">
              <h4>Dad's Schedule</h4>
              <p>More flexibility depending on airport choice.</p>
              
              <label class="activity-option" data-activity="day1-dad-early-stl">
                <input type="checkbox" id="day1-dad-early-stl"> 
                <span><strong>Dad arrives early to STL</strong> ‚Äî Visit Clifford Apr 14-16, then meet Luke or drive down together</span>
              </label>
              
              <label class="activity-option" data-activity="day1-dad-same-day">
                <input type="checkbox" id="day1-dad-same-day"> 
                <span><strong>Dad flies same day</strong> ‚Äî Coordinate to arrive around the same time</span>
              </label>
            </div>
          </div>
        </div>

        <!-- Day 2: Thursday - Drive to Mountain View -->
        <div class="day-content hidden" data-day="2">
          <div class="day-header">
            <h3>Thursday, April 17 ‚Äî Arrival in Mountain View</h3>
            <p>Morning drive to Mountain View. Afternoon/evening to explore and settle in.</p>
          </div>

          <div class="time-slot">
            <div class="time-label">Morning</div>
            <div class="time-content">
              <h4>Drive to Mountain View</h4>
              <p>2-4.5 hours depending on your airport. Scenic Ozark roads once you get close.</p>
              
              <label class="activity-option" data-activity="day2-breakfast-road">
                <input type="checkbox" id="day2-breakfast-road"> 
                <span><strong>Breakfast on the road</strong> ‚Äî Grab something before hitting the highway</span>
              </label>
            </div>
          </div>

          <div class="time-slot">
            <div class="time-label">Midday</div>
            <div class="time-content">
              <h4>Arrive & Check In</h4>
              <p>Get settled at your lodging, grab lunch.</p>
              
              <label class="activity-option" data-activity="day2-lunch-skillet">
                <input type="checkbox" id="day2-lunch-skillet"> 
                <span><strong>Lunch at the Skillet</strong> ‚Äî If staying at Dry Creek Cabins</span>
              </label>
              
              <label class="activity-option" data-activity="day2-lunch-downtown">
                <input type="checkbox" id="day2-lunch-downtown"> 
                <span><strong>Lunch downtown</strong> ‚Äî Explore the Mountain View square area</span>
              </label>
            </div>
          </div>

          <div class="time-slot">
            <div class="time-label">Afternoon</div>
            <div class="time-content">
              <h4>First Taste of the Folk Center</h4>
              <p>Craft Village is open until 5pm (Tue-Sat). Get a preview before tomorrow's full day.</p>
              
              <label class="activity-option" data-activity="day2-craft-village-preview">
                <input type="checkbox" id="day2-craft-village-preview"> 
                <span><strong>Craft Village preview</strong> ‚Äî Wander the village, catch afternoon music on Blacksmith Stage</span>
              </label>
              
              <label class="activity-option" data-activity="day2-herb-garden">
                <input type="checkbox" id="day2-herb-garden"> 
                <span><strong>Heritage Herb Garden</strong> ‚Äî Medicinal and culinary herbs</span>
              </label>
              
              <label class="activity-option" data-activity="day2-relax">
                <input type="checkbox" id="day2-relax"> 
                <span><strong>Relax at lodging</strong> ‚Äî Decompress after travel</span>
              </label>
            </div>
          </div>

          <div class="time-slot">
            <div class="time-label">Evening</div>
            <div class="time-content">
              <h4>Dinner & Evening</h4>
              
              <label class="activity-option" data-activity="day2-dinner-downtown">
                <input type="checkbox" id="day2-dinner-downtown"> 
                <span><strong>Dinner in downtown Mountain View</strong> ‚Äî Tommy's Pizza, Grandma's House, or other local spot</span>
              </label>
              
              <label class="activity-option" data-activity="day2-evening-square">
                <input type="checkbox" id="day2-evening-square"> 
                <span><strong>Evening on the square</strong> ‚Äî Check if Thursday has informal music</span>
              </label>
            </div>
          </div>
        </div>

        <!-- Day 3: Friday - Main Day -->
        <div class="day-content hidden" data-day="3">
          <div class="day-header">
            <h3>Friday, April 18 ‚Äî The Big Day</h3>
            <p>Full day to explore! Plus Friday night is the best night for live music on the square.</p>
          </div>

          <div class="time-slot">
            <div class="time-label">Morning</div>
            <div class="time-content">
              <h4>Option A: Blanchard Springs Caverns</h4>
              <p>15 miles north. One of America's most spectacular caves. Book an early tour.</p>
              
              <label class="activity-option" data-activity="day3-dripstone">
                <input type="checkbox" id="day3-dripstone"> 
                <span><strong>Dripstone Trail tour</strong> ‚Äî Paved, accessible, 1.2 miles round trip. Stunning formations.</span>
              </label>
              
              <label class="activity-option" data-activity="day3-discovery">
                <input type="checkbox" id="day3-discovery"> 
                <span><strong>Discovery Trail tour</strong> ‚Äî More strenuous, 700+ stairs, deeper chambers</span>
              </label>
            </div>
          </div>

          <div class="time-slot">
            <div class="time-label">Morning</div>
            <div class="time-content">
              <h4>Option B: White River Fishing</h4>
              <p>World-class trout fishing, 30 min east. Book a guide for the best experience.</p>
              
              <label class="activity-option" data-activity="day3-fishing-half">
                <input type="checkbox" id="day3-fishing-half"> 
                <span><strong>Half-day guided trip</strong> ‚Äî ~4 hours on the water, guide provides boat and gear</span>
              </label>
              
              <label class="activity-option" data-activity="day3-fishing-full">
                <input type="checkbox" id="day3-fishing-full"> 
                <span><strong>Full-day guided trip</strong> ‚Äî All day on the river, lunch included</span>
              </label>
            </div>
          </div>

          <div class="time-slot">
            <div class="time-label">Morning</div>
            <div class="time-content">
              <h4>Option C: Folk Center Deep Dive</h4>
              <p>If you'd rather save the caverns and spend the whole day at the Craft Village.</p>
              
              <label class="activity-option" data-activity="day3-breakfast-skillet">
                <input type="checkbox" id="day3-breakfast-skillet"> 
                <span><strong>Breakfast at the Skillet</strong> ‚Äî Country breakfast to fuel the day</span>
              </label>
              
              <label class="activity-option" data-activity="day3-blacksmith">
                <input type="checkbox" id="day3-blacksmith"> 
                <span><strong>Watch the blacksmith</strong> ‚Äî One of the most popular demonstrations</span>
              </label>
              
              <label class="activity-option" data-activity="day3-pottery">
                <input type="checkbox" id="day3-pottery"> 
                <span><strong>Pottery demonstration</strong> ‚Äî Wheel-thrown stoneware</span>
              </label>
              
              <label class="activity-option" data-activity="day3-knife">
                <input type="checkbox" id="day3-knife"> 
                <span><strong>Knife making shop</strong> ‚Äî Blades forged and handles fitted</span>
              </label>
              
              <label class="activity-option" data-activity="day3-broom">
                <input type="checkbox" id="day3-broom"> 
                <span><strong>Broom making</strong> ‚Äî Traditional Ozark craft</span>
              </label>
            </div>
          </div>

          <div class="time-slot">
            <div class="time-label">Midday</div>
            <div class="time-content">
              <h4>If You Did Caverns: Blanchard Area</h4>
              <p>Explore the outdoor recreation area after your cave tour.</p>
              
              <label class="activity-option" data-activity="day3-waterfall">
                <input type="checkbox" id="day3-waterfall"> 
                <span><strong>Blanchard Springs waterfall</strong> ‚Äî Short walk to beautiful falls</span>
              </label>
              
              <label class="activity-option" data-activity="day3-mirror-lake">
                <input type="checkbox" id="day3-mirror-lake"> 
                <span><strong>Mirror Lake</strong> ‚Äî Scenic lake, trout fishing available</span>
              </label>
              
              <label class="activity-option" data-activity="day3-mellons">
                <input type="checkbox" id="day3-mellons"> 
                <span><strong>Mellon's Country Store</strong> ‚Äî Old-fashioned candy and Ozark charm</span>
              </label>
            </div>
          </div>

          <div class="time-slot">
            <div class="time-label">Afternoon</div>
            <div class="time-content">
              <h4>Craft Village (if you did caverns in AM)</h4>
              <p>Head to the Folk Center for the afternoon. Live music on Blacksmith Stage.</p>
              
              <label class="activity-option" data-activity="day3-craft-afternoon">
                <input type="checkbox" id="day3-craft-afternoon"> 
                <span><strong>Afternoon at Craft Village</strong> ‚Äî Artisan demos, music, shopping</span>
              </label>
            </div>
          </div>

          <div class="time-slot">
            <div class="time-label">Evening</div>
            <div class="time-content">
              <h4>üé∏ Friday Night Music!</h4>
              <p>Friday is THE night for music in Mountain View. Don't miss it!</p>
              
              <label class="activity-option" data-activity="day3-dinner-early">
                <input type="checkbox" id="day3-dinner-early"> 
                <span><strong>Early dinner</strong> ‚Äî Eat before heading to the square</span>
              </label>
              
              <label class="activity-option" data-activity="day3-square-friday">
                <input type="checkbox" id="day3-square-friday"> 
                <span><strong>üéµ Courthouse square jam session</strong> ‚Äî The real deal! Bring chairs, soak in the music</span>
              </label>
              
              <label class="activity-option" data-activity="day3-driftwood">
                <input type="checkbox" id="day3-driftwood"> 
                <span><strong>Jimmy Driftwood Barn</strong> ‚Äî Folk music show 7-9pm (Fri nights)</span>
              </label>
            </div>
          </div>
        </div>

        <!-- Day 4: Saturday - Departure -->
        <div class="day-content hidden" data-day="4">
          <div class="day-header">
            <h3>Saturday, April 19 ‚Äî Departure Day</h3>
            <p>Morning in the Ozarks, then drive to airport for afternoon flights home.</p>
          </div>

          <div class="time-slot">
            <div class="time-label">Morning</div>
            <div class="time-content">
              <h4>Last Bit of Mountain View</h4>
              <p>Depending on flight times, you have the morning to squeeze in one more thing.</p>
              
              <label class="activity-option" data-activity="day4-breakfast-grandmas">
                <input type="checkbox" id="day4-breakfast-grandmas"> 
                <span><strong>Breakfast at Grandma's House Cafe</strong> ‚Äî Famous pies, home cooking</span>
              </label>
              
              <label class="activity-option" data-activity="day4-breakfast-skillet">
                <input type="checkbox" id="day4-breakfast-skillet"> 
                <span><strong>Breakfast at the Skillet</strong> ‚Äî One more country breakfast</span>
              </label>
              
              <label class="activity-option" data-activity="day4-folk-center-quick">
                <input type="checkbox" id="day4-folk-center-quick"> 
                <span><strong>Quick Craft Village stop</strong> ‚Äî Opens 10am, catch anything you missed</span>
              </label>
              
              <label class="activity-option" data-activity="day4-dulcimer">
                <input type="checkbox" id="day4-dulcimer"> 
                <span><strong>McSpadden Dulcimer Shop</strong> ‚Äî World-famous dulcimers since 1962</span>
              </label>
              
              <label class="activity-option" data-activity="day4-souvenirs">
                <input type="checkbox" id="day4-souvenirs"> 
                <span><strong>Souvenir shopping</strong> ‚Äî Folk Center gift shop or downtown</span>
              </label>
            </div>
          </div>

          <div class="time-slot">
            <div class="time-label">Midday</div>
            <div class="time-content">
              <h4>Drive to Airport</h4>
              <p>Allow enough time for the drive plus car return and security. Aim for afternoon flights.</p>
              
              <label class="activity-option" data-activity="day4-drive-stl">
                <input type="checkbox" id="day4-drive-stl"> 
                <span><strong>Drive to St. Louis (STL)</strong> ‚Äî 4.5 hours. Leave by ~10am for 3-4pm flight.</span>
              </label>
              
              <label class="activity-option" data-activity="day4-drive-lit">
                <input type="checkbox" id="day4-drive-lit"> 
                <span><strong>Drive to Little Rock (LIT)</strong> ‚Äî 2 hours. More morning flexibility.</span>
              </label>
              
              <label class="activity-option" data-activity="day4-drive-mem">
                <input type="checkbox" id="day4-drive-mem"> 
                <span><strong>Drive to Memphis (MEM)</strong> ‚Äî 3 hours. BBQ stop on the way?</span>
              </label>
            </div>
          </div>

          <div class="time-slot">
            <div class="time-label">Afternoon</div>
            <div class="time-content">
              <h4>Flights Home</h4>
              <p>Return rental car, fly back to Richmond / Portland.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Summary Sidebar -->
      <div class="itinerary-summary">
        <h3>üìã Your Plan</h3>
        
        <div class="summary-day">
          <h4>Wed, Apr 16</h4>
          <ul id="summary-day1">
            <li class="summary-empty">No activities selected</li>
          </ul>
        </div>
        
        <div class="summary-day">
          <h4>Thu, Apr 17</h4>
          <ul id="summary-day2">
            <li class="summary-empty">No activities selected</li>
          </ul>
        </div>
        
        <div class="summary-day">
          <h4>Fri, Apr 18</h4>
          <ul id="summary-day3">
            <li class="summary-empty">No activities selected</li>
          </ul>
        </div>
        
        <div class="summary-day">
          <h4>Sat, Apr 19</h4>
          <ul id="summary-day4">
            <li class="summary-empty">No activities selected</li>
          </ul>
        </div>

        <button class="btn btn-secondary btn-small mt-2" onclick="clearItinerary()" style="width: 100%;">Clear All</button>
      </div>
    </div>
  </main>

  <footer class="site-footer">
    <p>Ozark Trip Planner ¬∑ Your selections are saved in your browser</p>
  </footer>

  <script src="js/preferences.js"></script>
  <script>
    // Day tab switching
    document.querySelectorAll('.day-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.day-tab').forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        
        const day = tab.dataset.day;
        document.querySelectorAll('.day-content').forEach(content => {
          content.classList.toggle('hidden', content.dataset.day !== day);
        });
      });
    });

    // Activity labels for summary
    const activityLabels = {
      'day1-hotel-airport': 'Hotel near airport',
      'day1-drive-partial': 'Drive partway',
      'day1-dad-early-stl': 'Dad arrives early (STL)',
      'day1-dad-same-day': 'Dad flies same day',
      'day2-breakfast-road': 'Breakfast on the road',
      'day2-lunch-skillet': 'Lunch at Skillet',
      'day2-lunch-downtown': 'Lunch downtown',
      'day2-craft-village-preview': 'Craft Village preview',
      'day2-herb-garden': 'Herb Garden',
      'day2-relax': 'Relax at lodging',
      'day2-dinner-downtown': 'Dinner downtown',
      'day2-evening-square': 'Evening on the square',
      'day3-dripstone': 'Dripstone Trail tour',
      'day3-discovery': 'Discovery Trail tour',
      'day3-fishing-half': 'üé£ Half-day fishing trip',
      'day3-fishing-full': 'üé£ Full-day fishing trip',
      'day3-breakfast-skillet': 'Breakfast at Skillet',
      'day3-blacksmith': 'Blacksmith demo',
      'day3-pottery': 'Pottery demo',
      'day3-knife': 'Knife making',
      'day3-broom': 'Broom making',
      'day3-waterfall': 'Blanchard waterfall',
      'day3-mirror-lake': 'Mirror Lake',
      'day3-mellons': "Mellon's Country Store",
      'day3-craft-afternoon': 'Craft Village afternoon',
      'day3-dinner-early': 'Early dinner',
      'day3-square-friday': 'üéµ Friday square music',
      'day3-driftwood': 'Jimmy Driftwood Barn',
      'day4-breakfast-grandmas': "Grandma's House breakfast",
      'day4-breakfast-skillet': 'Breakfast at Skillet',
      'day4-folk-center-quick': 'Quick Craft Village stop',
      'day4-dulcimer': 'McSpadden Dulcimers',
      'day4-souvenirs': 'Souvenir shopping',
      'day4-drive-stl': 'Drive to STL',
      'day4-drive-lit': 'Drive to LIT',
      'day4-drive-mem': 'Drive to MEM'
    };

    // Load saved activities
    function loadActivities() {
      const prefs = JSON.parse(localStorage.getItem('ozarkPrefs') || '{}');
      
      document.querySelectorAll('.activity-option').forEach(option => {
        const activity = option.dataset.activity;
        const checkbox = option.querySelector('input[type="checkbox"]');
        if (prefs['activity-' + activity]) {
          checkbox.checked = true;
          option.classList.add('selected');
        }
      });
      
      updateSummary();
    }

    // Save activity selection
    document.querySelectorAll('.activity-option').forEach(option => {
      const checkbox = option.querySelector('input[type="checkbox"]');
      
      checkbox.addEventListener('change', () => {
        const activity = option.dataset.activity;
        const prefs = JSON.parse(localStorage.getItem('ozarkPrefs') || '{}');
        
        if (checkbox.checked) {
          prefs['activity-' + activity] = true;
          option.classList.add('selected');
        } else {
          delete prefs['activity-' + activity];
          option.classList.remove('selected');
        }
        
        localStorage.setItem('ozarkPrefs', JSON.stringify(prefs));
        updateSummary();
      });
      
      option.addEventListener('click', (e) => {
        if (e.target !== checkbox) {
          checkbox.checked = !checkbox.checked;
          checkbox.dispatchEvent(new Event('change'));
        }
      });
    });

    // Update summary sidebar
    function updateSummary() {
      const prefs = JSON.parse(localStorage.getItem('ozarkPrefs') || '{}');
      
      for (let day = 1; day <= 4; day++) {
        const summaryList = document.getElementById('summary-day' + day);
        const dayActivities = Object.keys(prefs)
          .filter(k => k.startsWith('activity-day' + day) && prefs[k])
          .map(k => k.replace('activity-', ''));
        
        if (dayActivities.length === 0) {
          summaryList.innerHTML = '<li class="summary-empty">No activities selected</li>';
        } else {
          summaryList.innerHTML = dayActivities
            .map(a => '<li>' + (activityLabels[a] || a) + '</li>')
            .join('');
        }
      }
    }

    // Clear all itinerary
    function clearItinerary() {
      if (confirm('Clear all selected activities?')) {
        const prefs = JSON.parse(localStorage.getItem('ozarkPrefs') || '{}');
        
        Object.keys(prefs).forEach(k => {
          if (k.startsWith('activity-')) {
            delete prefs[k];
          }
        });
        
        localStorage.setItem('ozarkPrefs', JSON.stringify(prefs));
        
        document.querySelectorAll('.activity-option').forEach(option => {
          option.classList.remove('selected');
          option.querySelector('input[type="checkbox"]').checked = false;
        });
        
        updateSummary();
      }
    }

    loadActivities();
  </script>
</body>
</html>
